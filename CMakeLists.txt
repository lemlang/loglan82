CMAKE_MINIMUM_REQUIRED(VERSION 2.6)
option(DISTRIBUTION "DISTRIBUTION" "default")
option(ARCHITECTURE "ARCHITECTURE" "default")
set (CMAKE_MODULE_PATH "${CMAKE_CURRENT_SOURCE_DIR}/cmake")
ADD_SUBDIRECTORY(pass1)
ADD_SUBDIRECTORY(pass2)
ADD_SUBDIRECTORY(compiller)
#ADD_SUBDIRECTORY(interpreter)
#ADD_SUBDIRECTORY(src)
SET(CPACK_GENERATOR "DEB:RPM:NSIS")
SET(PACKAGE_VERSION "0.1.3")
SET(CPACK_PACKAGE_VERSION "${PACKAGE_VERSION}")
SET(CPACK_PACKAGE_NAME "vlp")
SET(CPACK_PACKAGE_VENDOR "ihttp://lemlang.org/")
SET(CPACK_PACKAGE_CONTACT "Andrzej Zadrozny <azadrozny@gmail.com>")
SET(CPACK_PACKAGE_DESCRIPTION_SUMMARY "Loglan language and Virtual Loglan Processor")
#deb
SET(CPACK_DEBIAN_PACKAGE_SHLIBDEPS ON)
#debian package name
if( ${DISTRIBUTION} AND ${ARCHITECTURE})
set(CPACK_PACKAGE_FILE_NAME "vlp-${PACKAGE_VERSION}-${DISTRIBUTION}_${ARCHITECTURE}")
endif()
#rpm
SET(CPACK_RPM_PACKAGE_GROUP "Development/Languages")
#nsis
set(CPACK_MONOLITHIC_INSTALL 1)
SET(CPACK_NSIS_MODIFY_PATH ON)

#inclide cpack
install(DIRECTORY examples DESTINATION share/vlp)
INCLUDE(CPack)
enable_testing()
